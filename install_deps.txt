OpenNI:
clone develop branch of https://github.com/occipital/OpenNI2/tree/develop
apt-get download libudev-dev
dpkg -x libudev-dev_229-4ubuntu19_amd64.deb libudev-install/
copy libudev.dev into OpenNI2/ThirdParty/PSCommon/XnLib/Source/Linux
OpenNI2/ThirdParty/PSCommon/XnLib/Source/Linux/XnLinuxUSB.cpp change <> to "" around libudev.h: #include "libudev.h"
copy libudev.so into OpenNI2/Bin/x64-Release/libudev.so
make
go into folder Packaging
comment the whole python file with ''' at end and beginning so that it does nothing (it doesnt work but isn't needed). File: ../Source/Documentation/Runme.py
back in Packaging folder, execute ReleaseVersion.py x64
Unpack the generated archive in Final into your desired install directory
edit the file OpenNI-Linux-x64-2.3/Redist/OpenNI2/Drivers: Enable image registration
Comment out the root check and the udev copy in the install script
execute the install script
source the generated file . OpenNIDevEnvironment
Then go ahead and execute the OpenCV build script

OpenCV: run automated script in git repo. dl_and_*.sh
